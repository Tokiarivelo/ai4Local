GÃ©nÃ¨re la page **Dashboard â†’ Campaigns â†’ Toutes les campagnes** pour AI4Local.  
Contraintes : code TypeScript strict, placer tous les fichiers sous `src/app/*`, respecter lâ€™architecture et les conventions dÃ©jÃ  dÃ©finies pour la page Realtime (components modularisÃ©s, UI primitives, dark/light mode, mobile-first). Utilise Tailwind CSS et scripts Bun. Fourni uniquement TSX/TS + README + mocks + tests exemples.

EXIGENCES GÃ‰NÃ‰RALES

- Mobile-first, responsive (sm/md/lg/xl). Sidebar collapsible / drawer mobile.
- Dark & Light mode support (CSS variables + Tailwind `dark:`).
- Composants petits, testables, exportÃ©s, documentÃ©s.
- AccessibilitÃ© (ARIA, keyboard nav, focus).
- Skeletons + Ã©tats empty/error.
- Virtualization pour listes longues (react-window ou Ã©quivalent).
- Tests unitaires examples (Jest + RTL).

FONCTIONNALITÃ‰S CLÃ‰S (dÃ©taillÃ©es)

1. `CampaignsLayout.tsx`
   - Wrapper page, breadcrumb "Dashboard / Campaigns", grid responsive.
2. `CampaignsPage.tsx`
   - Compose les modules : Toolbar, Filters, StatsCards, CampaignsList, RightPane (preview/details).
3. `CampaignFilters.tsx` (drawer)
   - Filtres : statut (Draft/Active/Scheduled/Paused/Archived/Failed), channel (FB/WhatsApp/IG), owner, tags, date range, search global. Debounce 300ms.
4. `CampaignsList.tsx`
   - Virtualized table/list. Colonnes: Checkbox, Name, Channel, Status, Start/End, Impressions, Clicks, Conversions, Owner, Actions. Sortable cols. Inline filters per column.
5. `CampaignRow.tsx`
   - Row dÃ©taillÃ©e : thumbnail/mock preview, A/B test badge, progress bar, KPI mini (impr/clicks/conversions), kebab menu (Edit / Duplicate / Pause / Resume / Archive / Delete). Accessible.
6. `CampaignEditorModal.tsx`
   - Modal pour crÃ©er/Ã©diter campagne : form typÃ© (title, channel, audience, creative, schedule, budget, UTM, template selection). Validation client-side. Support save draft / schedule / publish.
7. `CampaignQuickActions.tsx`
   - Bulk actions: Publish, Pause, Archive, Delete, Export CSV. Confirmation modals for destructive actions.
8. `CampaignTemplatesPanel.tsx`
   - Library of templates with preview + apply.
9. `ABTestManager.tsx`
   - Option pour crÃ©er A/B test variants, assign traffic split, track metric to win (CTR / Conversions). Simple UI to enable/disable tests.
10. `CampaignStatsCard.tsx`
    - KPI cards & miniature charts (sparkline) per campaign or global summary. Colors: primary series = --brand-mid, accent = --brand-light.

TYPES (types.ts)

- `Campaign { id:string; name:string; channel:'facebook'|'whatsapp'|'instagram'; status:'draft'|'active'|'scheduled'|'paused'|'archived'|'failed'; startAt?:string; endAt?:string; owner:string; impressions:number; clicks:number; conversions:number; budget?:number; tags?:string[]; abTest?: { enabled:boolean; variants: { id:string; name:string; pct:number }[] }; templateId?:string }`
- `FilterOptions`, `BulkAction`, etc.

INTERACTIONS & COMPORTEMENTS
-Sortable & searchable table.
-Row actions open CampaignEditorModal (edit) or quick confirm dialogs.
-Bulk select + actions with toast confirmations.
-Schedule picker with timezone handling.
-AB test creation + traffic split UI.
-Charts sparklines interactive (hover tooltip).
-Responsive: on mobile list collapses to card view with essential info and actions in kebab menu.
-Dark mode styling and chart color variants.

PERFORMANCE & QUALITÃ‰
-Virtualize lists.
-Memoize rows (React.memo).
-No any. Strong TS typing.
-Avoid inline anonymous functions in lists.
-Unit tests examples for CampaignRow and bulk actions.

DELIVERABLES
-Tous les fichiers TSX/TS listÃ©s ci-dessus.
-types.ts et mocks/campaigns.mock.ts (â‰¥10 items).
-examples/CampaignsExample.tsx qui montre page montÃ©e avec mocks and mocked APIs.
-README.md expliquant intÃ©gration, props attendues, comment brancher API rÃ©elle, et comment activer dark mode.
-tests/CampaignRow.test.tsx sample.

BONNES PRATIQUES (rappel)
-Structure components/ui, components/modules/campaigns, components/layout.
-Naming clair (PascalCase).
-Single responsibility.
-Use context/provider for filters & selected rows.
-Exports index.ts pour chaque dossier.
-Commentaire en haut de chaque fichier rÃ©sumant responsabilitÃ©.

---

GÃ©nÃ¨re les 5 Ã©tapes interactives du flux de crÃ©ation de campagne pour AI4Local :

- CrÃ©atifs : Images, vidÃ©os, textes, gÃ©nÃ©ration IA
- Audience : Ciblage et segments
- Planning : Budget et calendrier
- Tracking : UTM et A/B tests
- Validation : VÃ©rification finale avant publication

Contexte :
Ce module appartient Ã  la page `Dashboard > Campaigns > Create` situÃ©e dans `app/modules/campaigns/create/cpmponents/wizard`.
Suivre strictement la mÃªme structure, typage, bonnes pratiques et code style que la page Realtime.

## ğŸ§© EXIGENCES GÃ‰NÃ‰RALES

- **UI Framework :** Next.js 15 + TypeScript + TailwindCSS + shadcn/ui.
- **Dark / Light Mode** complet (via CSS vars + classes `dark:`).
- **Mobile-first** responsive layout (sm, md, lg).
- **Utilisation de composants shadcn/ui** (Card, Tabs, Input, Button, Slider, Switch, Dialog, Select, Calendar, Avatar, Badge, Alert, etc.).
- **Typage fort** (`zod` + `react-hook-form` + `zodResolver`).
- **Architecture modulaire et rÃ©utilisable** (chaque Ã©tape = composant isolÃ© et typÃ©).
- **AccessibilitÃ© (ARIA)** et focus visibles.
- **Interactions fluides et animations lÃ©gÃ¨res (framer-motion)**.
- **Mock data fournie** (pour preview des images, segments, calendriers, etc.).
- **Support IA intÃ©grÃ©** (gÃ©nÃ©ration de texte/image via mock dâ€™API `aiGenerator()`).

## âš™ï¸ DESCRIPTION DÃ‰TAILLÃ‰E DES Ã‰TAPES

1ï¸âƒ£ StepCreatives.tsx â€” CrÃ©atifs

- Sous-sections :
  - Upload image/vidÃ©o (via `shadcn/ui` `FileUploader` ou `Dropzone` custom).
  - GÃ©nÃ©ration IA de texte ou visuel (`aiGenerator(prompt)` dans `utils/ai-generator.ts`).
  - Champs : `headline`, `caption`, `mediaFiles[]`.
- Features :
  - Preview visuelle du post (mobile + desktop mock).
  - Option â€œGÃ©nÃ©rer par IAâ€ â†’ ouvre un `Dialog` shadcn avec prompt input et bouton â€œGÃ©nÃ©rerâ€.
  - Gestion drag/drop rÃ©ordonner les visuels.
  - Validation zod : au moins 1 mÃ©dia + titre non vide.

---

2ï¸âƒ£ StepAudience.tsx â€” Ciblage et segments

- UI :
  - Segments prÃ©dÃ©finis (cartes avec `shadcn/ui` `Card` + `Switch` â€œActiverâ€).
  - CrÃ©ation manuelle : filtres â€œÃ‚geâ€, â€œLocalisationâ€, â€œCentre dâ€™intÃ©rÃªtâ€.
  - Import CSV (mock, affiche prÃ©visualisation).
- Logic :
  - Mock data importÃ©e depuis `campaign-create.mock.ts` (segments existants).
  - Validation zod : au moins un segment sÃ©lectionnÃ©.
  - Bouton â€œEnregistrer le segmentâ€ â†’ animation succÃ¨s + toast.
- Composants : `SegmentCard`, `SegmentFilters`, `CsvPreviewTable`.

---

3ï¸âƒ£ StepPlanning.tsx â€” Budget et calendrier

- UI :
  - Composants : `DatePicker` (shadcn), `Slider` pour budget, `Select` pour devise, `Switch` â€œBudget quotidienâ€.
  - Affiche calcul estimÃ© du reach (mock calcul).
- Logic :
  - Validation : `startDate < endDate`, `budget > 0`.
  - Interaction : modif budget â†’ recalcul reach instantanÃ©.
  - Mock formule : `reach = budget * 0.45 * random(1.1,1.3)`.

---

4ï¸âƒ£ StepTracking.tsx â€” UTM & A/B Tests

- UI :
  - Section â€œUTM Builderâ€ : inputs pour source, medium, campaign, content.
  - Bouton â€œGÃ©nÃ©rer lienâ€ (affiche preview : `https://ai4local.com/?utm_source=...`).
  - Section â€œA/B Testâ€ : toggle activÃ© â†’ table pour variants avec %
  - Graphique petit (bar chart `shadcn/ui` composable).
- Logic :
  - Validation zod : champs non vides si A/B actif, pourcentage total = 100%.
  - Mock preview chart : CTR variant A vs B.

5ï¸âƒ£ StepValidation.tsx â€” VÃ©rification finale

- UI :
  - RÃ©capitulatif de toutes les Ã©tapes :
    - CrÃ©atifs (miniature + texte)
    - Audience (segments actifs)
    - Planning (dates, budget, reach estimÃ©)
    - Tracking (UTM + variants).
  - Check-list shadcn `Checkbox` : â€œVisuel conformeâ€, â€œBudget validÃ©â€, â€œAudience OKâ€, etc.
  - Boutons : â€œSauvegarder le brouillonâ€, â€œPublier maintenantâ€.
- Logic :
  - Validation : tous les items cochÃ©s avant publication.
  - Animation succÃ¨s (`Dialog` ou `Toast` shadcn) aprÃ¨s publication mock.
    ğŸ§  TECHNIQUES ET BONNES PRATIQUES
    -Composants petits et rÃ©utilisables.
    -Export index.ts dans chaque sous-dossier.
    -Typage zod et rÃ©utilisation entre Ã©tapes.
    -useCampaignCreateContext() pour stocker lâ€™Ã©tat global du wizard.
    -State persistant (draft auto-save).
    -Test unitaire exemple pour StepCreatives (upload + validation).
    -Responsive sur tous les breakpoints.
    -framer-motion pour transitions entre Ã©tapes.
    -Commentaires clairs en haut de chaque fichier.
    ğŸ“„ LIVRABLES ATTENDUS
- Fichiers TSX/TS complets dans lâ€™arborescence correspondante.
  -README.md (comment intÃ©grer et connecter Ã  API rÃ©elle).
  -validators.ts (Zod schemas pour chaque Ã©tape).
  -StepsExample.tsx (monte le wizard complet avec mocks).
  -Test exemple StepCreatives.test.tsx.
  -Code propre, lisible, typÃ©, prÃªt Ã  refactor.
  -Suivre le mÃªme design et logique de la page Realtime.
